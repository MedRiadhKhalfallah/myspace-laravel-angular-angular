<nav aria-label="breadcrumb" *ngIf="!loading">
  <ol class="breadcrumb" *ngIf="newProduit">
    <li class="breadcrumb-item"><a routerLink="">Accueil</a></li>
    <li class="breadcrumb-item"><a routerLink="/produit">Produits</a></li>
    <li class="breadcrumb-item" aria-current="page">
      <a href="/produit?category={{newProduit.sous_category.category.id}}">
        {{newProduit.sous_category.category.nom}}</a></li>
    <li class="breadcrumb-item active" aria-current="page">
      <a href="/produit?category={{newProduit.sous_category.category.id}}&sousCategory={{newProduit.sous_category.id}}">
        {{newProduit.sous_category.nom}}</a></li>
  </ol>
</nav>

<app-loading *ngIf="loading"></app-loading>
<div class="card mb-3" *ngIf="!loading">
  <div class="card-body" *ngIf="!newProduit">
    Ce produit n'existe pas
  </div>
  <div class="card-body" *ngIf="newProduit">
    <div class="row">
      <div class="col-lg-6 mb-4 mb-lg-0">
        <img width="100%" src="{{newProduit.image_path}}" alt="{{newProduit.titre}}">
      </div>
      <div class="col-lg-6">
        <h5>{{newProduit.titre}}</h5>
        <p class="fs--1"><strong>Référence :</strong> {{newProduit.reference}}</p>
        <p class="fs--1"><strong>Description:</strong> {{newProduit.description}}</p>
        <div
          *ngIf="newProduit.paiement_facilite_3_mois || newProduit.paiement_facilite_6_mois || newProduit.paiement_facilite_12_mois">
          <strong>Paiement par facilité</strong>
          <table class="table table-hover" style="width: 50%">
            <tbody>
            <tr *ngIf="newProduit.paiement_facilite_3_mois">
              <td>3 mois</td>
              <td>{{newProduit.paiement_facilite_3_mois}} TD</td>
            </tr>
            <tr *ngIf="newProduit.paiement_facilite_6_mois">
              <td>6 mois</td>
              <td>{{newProduit.paiement_facilite_6_mois}} TD</td>
            </tr>
            <tr *ngIf="newProduit.paiement_facilite_12_mois">
              <td>12 mois</td>
              <td>{{newProduit.paiement_facilite_12_mois}} TD</td>
            </tr>
            </tbody>
          </table>

        </div>
        <h4 class="d-flex align-items-center" *ngIf="newProduit.prix_sold">
          <span class="text-warning mr-2">{{newProduit.prix_sold}} DT</span>
          <span class="mr-1 fs--1 text-500"><del class="mr-1">{{newProduit.prix}} DT</del></span>
        </h4>
        <h4 class="d-flex align-items-center" *ngIf="!newProduit.prix_sold">
          <span class="text-warning mr-2">{{newProduit.prix}} DT</span>
        </h4>
        <p class="fs--1" *ngIf="newProduit.quantite>0">Stock: <strong class="text-success">Disponible</strong></p>
        <p class="fs--1" *ngIf="newProduit.quantite<=0">Stock: <strong class="text-danger">En rupture de stock</strong>
        </p>
        <hr>
        <div class="row">
          <div class="col-lg-2" *ngIf="newProduit.modele.marque.id!=0">
            <img class="rounded-circle" style="width: 70px; height: 70px" src="{{newProduit.modele.marque.image_path}}"
                 alt="{{newProduit.modele.marque.nom}}"/>
          </div>
          <div class="col-lg-6" style="margin-top: 10px;">
            <strong>Marque :</strong>
            <a href="/produit?marque={{newProduit.modele.marque.id}}">
              {{newProduit.modele.marque.nom}}</a>
            <span *ngIf="newProduit.modele.marque.id==0"> : {{newProduit.autre_marque}}</span><br>
            <strong>Modele :</strong>
            <a href="/produit?marque={{newProduit.modele.marque.id}}&modele={{newProduit.modele.id}}">
              {{newProduit.modele.nom}}</a>
            <span *ngIf="newProduit.modele.id==0"> : {{newProduit.autre_modele}}</span>
          </div>
        </div>
        <hr>
        <div>
          <strong>Adresse :</strong> {{newProduit.adresse}} <br>
          <strong>Complement adresse:</strong> {{newProduit.complement_adresse}}
          <br>
          <strong>Gouvernorat :</strong>
          <a href="/produit?gouvernorat={{newProduit.gouvernorat_id}}">

            {{newProduit.gouvernorat.nom}}</a> <span
          *ngIf="newProduit.gouvernorat_id==0"> : {{newProduit.autre_gouvernorat}}</span><br>
          <strong>Delegation :</strong>
          <a href="/produit?gouvernorat={{newProduit.gouvernorat_id}}&delegation={{newProduit.delegation_id}}">
            {{newProduit.delegation.nom}}</a> <span
          *ngIf="newProduit.delegation_id==0"> : {{newProduit.autre_delegation}}</span><br>
        </div>
        <hr>
        <div class="row">
          <div class="col-lg-2">
            <img class="rounded-circle" style="width: 70px; height: 70px" src="{{newProduit.user.image_profile_path}}"
                 alt="Profile Image"/>
          </div>
          <div class="col-lg-6" style="margin-top: 10px;">
            <strong>Vendeur:</strong> {{newProduit.user.nom}} {{newProduit.user.prenom}}<br>
            <strong>Numéro de téléphone:</strong> {{newProduit.user.telephone}}

          </div>
        </div>

      </div>
    </div>
    <br>
    <table class="table table-striped table-hover">
      <thead>
      <tr>
        <th scope="col">Attribut</th>
        <th scope="col">Valeur</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngIf="newProduit.typeTransaction">
        <td>Type de transaction</td>
        <td>{{newProduit.typeTransaction}}</td>
      </tr>
      <tr *ngIf="newProduit.chambres">
        <td>Chambres</td>
        <td>{{newProduit.chambres}}</td>
      </tr>
      <tr *ngIf="newProduit.superficie">
        <td>Superficie (m²)</td>
        <td>{{newProduit.superficie}}</td>
      </tr>
      <tr *ngIf="newProduit.couleur">
        <td>Couleur</td>
        <td>{{newProduit.couleur}}</td>
      </tr>
      <tr *ngIf="newProduit.typeCarrosserie">
        <td>Type de carrosserie</td>
        <td>{{newProduit.typeCarrosserie}}</td>
      </tr>
      <tr *ngIf="newProduit.boite">
        <td>Boite</td>
        <td>{{newProduit.boite}}</td>
      </tr>
      <tr *ngIf="newProduit.cylindre">
        <td>Cylindre</td>
        <td>{{newProduit.cylindre}}</td>
      </tr>
      <tr *ngIf="newProduit.kilometrage">
        <td>Kilometrage</td>
        <td>{{newProduit.kilometrage}}</td>
      </tr>
      <tr *ngIf="newProduit.annee">
        <td>Annee</td>
        <td>{{newProduit.annee}}</td>
      </tr>
      <tr *ngIf="newProduit.carburant">
        <td>Carburant</td>
        <td>{{newProduit.carburant}}</td>
      </tr>
      <tr *ngIf="newProduit.puissanceFiscale">
        <td>Puissance fiscale</td>
        <td>{{newProduit.puissanceFiscale}}</td>
      </tr>
      </tbody>
    </table>

    <hr>
    <div class="row">
      <div class="col-lg-12"
           *ngFor="let slide of newProduit.new_produit_images">
        <img width="100%" src="{{slide.image_path}}" alt="{{slide.titre}}">
      </div>
    </div>

  </div>
</div>

